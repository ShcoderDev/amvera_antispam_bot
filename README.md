# Telegram Anti-Spam Bot

Этот проект представляет собой Telegram-бота для автоматической модерации чатов. Бот удаляет спам-сообщения, блокирует нарушителей и предоставляет возможность дообучения на основе пользовательских данных. Проект разработан для защиты групп от спама и может быть легко развернут даже без навыков программирования.

## Основные функции

- **Удаление спам-сообщений**: Бот автоматически удаляет сообщения, которые классифицируются как спам.
- **Блокировка пользователей**: Бот может блокировать пользователей, которые нарушают правила чата.
- **Модерация сообщений**: Сообщения, которые бот считает спамом, отправляются в отдельную группу для ручной модерации.
- **Дообучение**: Бот может быть дообучен на основе новых данных, что позволяет улучшить его точность.

## Установка и запуск

### Шаг 0: Регистрация бота в BotFather

1. Перейдите в [BotFather](https://t.me/BotFather) и создайте нового бота с помощью команды `/newbot`.
2. Получите токен бота, который понадобится для дальнейшей настройки.
3. Настройте права бота в BotFather:
   - Включите `Allow Groups`.
   - Настройте `Groups Privacy`.
   - Дайте боту права администратора в группах.

### Шаг 1: Добавление бота в группы

1. Добавьте бота в группу, где он будет модерировать сообщения, и назначьте его администратором.
2. Создайте закрытую группу для модерации и добавьте туда бота.

### Шаг 2: Регистрация на удаленном сервере

Для работы бота 24/7 рекомендуется использовать удаленный сервер. В данном примере используется облачный сервис [Amvera](https://amvera.ru).

1. Зарегистрируйтесь на Amvera.
2. Создайте новый проект с типом "Приложение".

### Шаг 3: Загрузка файлов и запуск бота

1. Скачайте файлы проекта с [GitHub](https:://github.com/ShcoderDev/amvera_antispam_bot).
2. Загрузите файлы в проект на Amvera через интерфейс.
3. Загрузите файл `data.txt` в папку `Data` в разделе "Репозиторий".

### Шаг 4: Настройка переменных окружения

Добавьте следующие переменные окружения в проект:

- `CHAT_IDS`: ID основной группы.
- `JOURNAL_CHAT_ID`: ID группы для модерации.
- `DATASET_PATH`: Путь к файлу `data.txt` (например, `/data/data.txt`).
- `TOKEN`: Токен вашего бота.
- `CHANNEL_ID`: ID канала, сообщения которого не нужно удалять.
- `TF_ENABLE_ONEDNN_OPTS`: Установите значение `0`.

### Шаг 5: Запуск бота

После настройки переменных перезапустите проект. Бот начнет работать и модерировать сообщения в вашей группе.

## Дообучение бота

Для дообучения бота используйте команду `/add` в группе модерации.

## Ссылки

- [Amvera](https://amvera.ru)
- [BotFather](https://t.me/BotFather)
